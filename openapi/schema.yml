openapi: 3.0.0
info:
  version: 1.0.0
  title: Hojokin Dock API
  description: '補助金ドックのAPIドキュメント'
servers:
  - url: 'http://localhost:3000'
tags:
  - name: subsidy
    description: 補助金情報
  - name: ministry
    description: 省庁
  - name: prefecture
    description: 都道府県
  - name: city
    description: 市長区村
paths:
  "/subsidies":
    get:
      tags:
      - subsidy
      summary: 補助金情報一覧
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                required:
                - subsidies
                properties:
                  subsidies:
                    type: array
                    items:
                      "$ref": "#/components/schemas/subsidy"
  "/subsidies/{id}":
    parameters:
    - name: id
      in: path
      required: true
      description: subsidyのid
      schema:
        type: integer
    get:
      tags:
      - subsidy
      summary: 補助金情報詳細
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/subsidy"
  "/ministries":
    get:
      tags:
      - ministry
      summary: 省庁一覧
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                required:
                - ministries
                properties:
                  ministries:
                    type: array
                    items:
                      "$ref": "#/components/schemas/ministry"
  "/prefectures":
    get:
      tags:
      - prefecture
      summary: 都道府県一覧
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                required:
                - prefectures
                properties:
                  prefectures:
                    type: array
                    items:
                      "$ref": "#/components/schemas/prefecture"
  "/cities":
    get:
      tags:
      - city
      summary: 市長区村一覧
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                type: object
                required:
                - cities
                properties:
                  cities:
                    type: array
                    items:
                      "$ref": "#/components/schemas/city"
components:
  schemas:
    subsidy:
      type: object
      required:
        - id
        - title
        - url
        - ministry
        - prefecture
        - city
      properties:
        id:
          type: integer
          description: id
          example: 1
        title:
          type: string
          description: 補助金名
          example: IT導入補助金
        url:
          type: string
          description: URL
          example: https://www.it-hojo.jp/applicant/
        ministry:
          "$ref": "#/components/schemas/ministry"
        prefecture:
          "$ref": "#/components/schemas/prefecture"
        city:
          "$ref": "#/components/schemas/city"
    ministry:
      type: object
      nullable: true
      required:
        - id
        - name
        - logo_url
      properties:
        id:
          type: integer
          description: id
          example: 1
        name:
          type: string
          description: 省庁名
          example: 経済産業省
        logo_url:
          type: string
          description: URL
          example: https://example.com/logo.png
    prefecture:
      type: object
      nullable: true
      required:
        - id
        - name
        - logo_url
      properties:
        id:
          type: integer
          description: id
          example: 1
        name:
          type: string
          description: 都道府県名
          example: 東京都
        logo_url:
          type: string
          description: URL
          example: https://example.com/logo.png
    city:
      type: object
      nullable: true
      required:
        - id
        - name
        - logo_url
      properties:
        id:
          type: integer
          description: id
          example: 1
        name:
          type: string
          description: 市町区村名
          example: 千代田区
        logo_url:
          type: string
          description: URL
          example: https://example.com/logo.png
